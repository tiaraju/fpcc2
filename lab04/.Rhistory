library(devtools)
library(tidyverse)
library(GGally)
library(resample)
install.packages("resample")
library(resample)
github = read_csv("dados/github-users-committing-filetypes.csv")
github = github %>%
mutate(date = lubridate::ymd(paste(the_year, the_month, month_day)),
week_day = lubridate::wday(date),
is_weekend = if_else(week_day %in% c(1,7), TRUE, FALSE))
py = github %>% filter(file_extension %in% c("py"))
js = github %>% filter(file_extension %in% c("js"))
py %>% ggplot(aes(x=py$users)) + geom_histogram(bins=20) + labs(x="Users")
js %>% ggplot(aes(x=js$users)) + geom_histogram(bins=20) + labs(x="Users")
py = github %>% filter(file_extension %in% c("py"))
js = github %>% filter(file_extension %in% c("js"))
py %>% ggplot(aes(x=py$users)) + geom_histogram(bins=20) + labs(x="Users") + ggtitle("Python")  + theme(plot.title = element_text(hjust = 0.5))
js %>% ggplot(aes(x=js$users)) + geom_histogram(bins=20) + labs(x="Users") + ggtitle("Javascript") + theme(plot.title = element_text(hjust = 0.5))
#python
py_weekend = py %>% filter(is_weekend==TRUE)
py_week = py %>% filter(is_weekend==FALSE)
py_weekend_median = py_weekend$users %>% bootstrap(statistic=median)
py_week_median = py_week$users %>% bootstrap(statistic=median)
py_week_CI = CI.percentile(py_week_median, probs=c(.025, .975))
py_weekend_CI = CI.percentile(py_weekend_median, probs=c(.025, .975))
data.frame(rbind(py_week_CI, py_weekend_CI)) %>%
ggplot(aes(x= c("Weekdays", "Weekend"), ymin = X2.5., ymax = X97.5.)) +
geom_errorbar(width = .2) + ggtitle("Python") + theme(plot.title = element_text(hjust = 0.5)) + labs(x="")
#javascript
js_weekend = js %>% filter(is_weekend==TRUE)
js_week = js %>% filter(is_weekend==FALSE)
js_weekend_median = js_weekend$users %>% bootstrap(statistic=median)
js_week_median = js_week$users %>% bootstrap(statistic=median)
js_week_CI = CI.percentile(js_week_median, probs=c(.025, .975))
js_weekend_CI = CI.percentile(js_weekend_median, probs=c(.025, .975))
data.frame(rbind(js_week_CI, js_weekend_CI)) %>%
ggplot(aes(x= c("Weekdays", "Weekend"), ymin = X2.5., ymax = X97.5.)) +
geom_errorbar(width = .2) + ggtitle("Javascript") + theme(plot.title = element_text(hjust = 0.5)) + labs(x="")
py_diff_median = py$users %>% bootstrap2(statistic=median,
treatment=py$is_weekend)
py_diff_CI = CI.percentile(py_diff_median, probs=c(.025, .975))
data.frame(py_diff_CI) %>%
ggplot(aes(x= "Diferença", ymin = X2.5., ymax = X97.5.)) +
geom_errorbar(width = .2) + ggtitle("Python") + theme(plot.title = element_text(hjust = 0.5)) +
geom_hline(yintercept = 0, colour = "darkorange")
#javascript
js_diff_median = js$users %>% bootstrap2(statistic=median,
treatment=js$is_weekend)
js_diff_CI = CI.percentile(js_diff_median, probs=c(.025, .975))
data.frame(js_diff_CI) %>%
ggplot(aes(x= "Diferença", ymin = X2.5., ymax = X97.5.)) +
geom_errorbar(width = .2) + ggtitle("Javascript") + theme(plot.title = element_text(hjust = 0.5))+
geom_hline(yintercept = 0, colour = "darkorange")
js_diff_CI
py_diff_CI
View(py)
github %>% gather(key = "variavel", value = "valor", -file_extension) %>%
ggplot(aes(x = valor)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
geom_histogram(fill = "lightyellow", color = "black", bins = 20) +
facet_wrap(~ variavel, scales = "free_x", ncol=7)
View(github)
js_diff_CI
py_js_diff_CI
py_js = github %>% filter(file_extension %in% c("js", "py"), week_day %in%c(2:6))
py_js_diff_sd = py_js$users %>% bootstrap2(statistic=sd,
treatment=py_js$file_extension)
py_js_diff_CI = CI.percentile(py_js_diff_sd, probs=c(.025, .975))
data.frame(py_js_diff_CI) %>%
ggplot(aes(x= "Diferença", ymin = X2.5., ymax = X97.5.)) +
geom_errorbar(width = .2) + theme(plot.title = element_text(hjust = 0.5)) +
geom_hline(yintercept = 0, colour = "darkorange")
py_js_diff_CI
